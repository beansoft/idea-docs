


<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Contributing to the IntelliJ Platform SDK / IntelliJ Platform SDK  DevGuide</title>
    <link rel="stylesheet" href="/intellij-sdk-docs-cn/app/app.css">
    <link rel="shortcut icon" href="/intellij-sdk-docs-cn/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="57x57" href="/intellij-sdk-docs-cn/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/intellij-sdk-docs-cn/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/intellij-sdk-docs-cn/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/intellij-sdk-docs-cn/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/intellij-sdk-docs-cn/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/intellij-sdk-docs-cn/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/intellij-sdk-docs-cn/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/intellij-sdk-docs-cn/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/intellij-sdk-docs-cn/apple-mask-icon.svg" color="black">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-square70x70logo" content="/intellij-sdk-docs-cn/mstile-70x70.png">
    <meta name="msapplication-TileImage" content="/intellij-sdk-docs-cn/mstile-144x144.png">
    <meta name="msapplication-square150x150logo" content="/intellij-sdk-docs-cn/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/intellij-sdk-docs-cn/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/intellij-sdk-docs-cn/mstile-310x310.png">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kana112233.github.io/intellij-sdk-docs-cn//CONTRIBUTING.html" />
    <meta property="og:site_name" content="JetBrains IntelliJ Platform SDK" />
    <meta property="og:title" content="Contributing to the IntelliJ Platform SDK" />
    <meta property="og:description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta property="og:image" content="https://kana112233.github.io/intellij-sdk-docs-cn/jetbrains.png" />
    <meta property="article:modified_time" content="2019-05-11T19:40:58+08:00" />
    <!-- <meta property="article:section" content="" />
    <meta property="article:tag" content="" /> -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@JBPlatform" />
    <meta name="twitter:title" content="Contributing to the IntelliJ Platform SDK" />
    <meta name="twitter:description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta name="twitter:image" content="https://kana112233.github.io/intellij-sdk-docs-cn/jetbrains.png" />
    <meta class="swiftype" name="product" data-type="string" content="/intellij-sdk-docs-cn/"></meta>
<link  rel="stylesheet" href="/intellij-sdk-docs-cn/app/styles.css"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?394835d134cdba7ae5b9ae1684dd1bd4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>
<body data-id="CONTRIBUTING">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label for="search-box__input" class="search-box__label">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ Platform SDK  DevGuide">
                    </label>
                    <div class="search-box__clear" title="Clear"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a data-bypass="true" href="//youtrack.jetbrains.com/issues/IJSDK">Send feedback</a></p>
                <p>&copy; 2000&ndash;2019 <a href="//www.jetbrains.com">JetBrains</a> s.r.o.<br>
                    All rights reserved.</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>IntelliJ Platform SDK DevGuide</h3>

                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">
                    <div class="navigation-links _top" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/intro/key_topics.html">Key Topics</a>
                        <a class="navigation-links__next" href="/CODE_OF_CONDUCT.html">Code of Conduct</a>
                    </div>


                    <h1>Contributing to the IntelliJ Platform SDK</h1>
                    <p>本文档描述了我们对开源IntelliJ Platform SDK文档和示例代码的贡献指南.
在开始向SDK提供内容之前,请仔细阅读本页以及<a href="/intellij-sdk-docs-cn/CODE_OF_CONDUCT.html"><span>行为准则</span></a>和<a href="https://github.com/JetBrains/intellij-sdk-docs/blob/master/LICENSE.txt" data-bypass="yes" target="_blank"><span>许可证</span></a>文档.
有关为IntelliJ平台本身做出贡献的信息,请访问<a href="/intellij-sdk-docs-cn/basics/platform_contributions.html"><span>贡献IntelliJ平台</span></a>.</p>

<p>在创作SDK内容和提交Pull请求之前,请先了解一些有用的信息.</p>
<ul>
  <li>虚拟列表项</li>
</ul>
<p> </p>

<a name="section" class="elem-anchor"></a>
<h2>设置文档构建环境<a href="#section" class="anchor-link"><span></span></a></h2>

<p>该站点通过<a href="https://jekyllrb.com" data-bypass="yes" target="_blank"><span>Jekyll</span></a>运行,这是一个流行的静态站点生成器,用Ruby编写.它可以在本地托管,以确保任何更改都是正确的.设置完成后,运行网站就像调用“rake preview”一样简单.</p>

<p>或者,该站点也可以托管在<a href="https://www.docker.com" data-bypass="yes" target="_blank"><span>Docker容器</span></a>中.在Mac和Windows上,这意味着该站点托管在虚拟机中. Docker维护这个容器,根据<a href="Dockerfile"><span><code class="code highlight language-text">Dockerfile</code></span></a>中的指令构建它.构建映像时会自动安装所有依赖项(Ruby等),从而减少了手动配置步骤. Docker镜像也用于构建<a href="https://www.jetbrains.org/intellij/sdk/docs/index.html" data-bypass="yes" target="_blank"><span>已发布网站</span></a>,因此它是一个已知的工作环境.</p>

<a name="docker" class="elem-anchor"></a>
<h3>使用Docker开发文档<a href="#docker" class="anchor-link"><span></span></a></h3>

<p>请按照以下步骤使用Docker:</p>

<ul>
  <li>首先,使用<a href="https://www.docker.com/docker-toolbox" data-bypass="yes" target="_blank"><span>Docker Toolbox</span></a>安装Docker.</li>
  <li>在Windows和Mac上,启动Docker主机虚拟机(启动“Docker Quickstart终端”或运行“Kitematic”.有关更多信息,请参阅[docker.com]上的入门指南(https://www.docker.com)
细节).</li>
  <li>将<a href="https://github.com/JetBrains/intellij-sdk-docs" data-bypass="yes" target="_blank"><span><code class="code highlight language-text">intellij-sdk-docs</code></span></a>repo克隆到本地机器,并<a href="#a-word-on-submodules"><span>初始化<code class="code highlight language-text">sdkdocs-template</code>子模块</span></a>.</li>
  <li>将当前目录更改为git仓库的父目录.</li>
  <li>运行<code class="code highlight language-text">docker build -t intellij-sdk-docs .</code>从当前文件夹构建docker镜像,并为其指定标签<code class="code highlight language-text">intellij-sdk-docs</code>.  </li>
  <li>请注意,这必须从设置了各种<code class="code highlight language-text">DOCKER_ *</code>环境变量的命令提示符运行,例如Docker Quickstart Terminal.</li>
  <li>运行<code class="code highlight language-text">docker run -p 4000:4000 -v $ PWD:/usr/src/app intellij-sdk-docs</code>.
该命令将:   </li>
  <li>启动名为<code class="code highlight language-text">intellij-sdk-docs</code>的docker容器.   </li>
  <li>将Docker容器中的端口4000转发到docker客户端上的端口4000.</li>
</ul>

<aside class="注意">
  <p>对于Windows和Mac,这意味着docker容器的端口4000被转发到docker虚拟机的端口4000,而不是“localhost”.对于Linux,docker客户端是主机,因此<code class="code highlight language-text">localhost:4000</code>被转发到docker容器上的端口4000. </p>

  <p>要从Windows或Mac命中容器的端口4000,必须点击docker客户端(虚拟机)的IP地址.使用<code class="code highlight language-text">docker-machine ip default</code>获取docker客户端的IP地址.使用<code class="code highlight language-text">X.X.X.X:4000</code>命中虚拟机中的客户端,然后将其映射到容器的端口4000.  
 
或者,修改虚拟机的设置以自动将端口4000转发到“localhost”.
有关详细信息,请参阅<a href="https://acaird.github.io/computers/2014/11/16/docker-virtualbox-host-networking" data-bypass="yes" target="_blank"><span>博客文章</span></a>.
 
    
*挂载当前目录(<code class="code highlight language-text">$ PWD</code>是Unix样式的环境变量.您可以在Windows上使用<code class="code highlight language-text">％CD％</code>,或指定完整路径)作为docker容器内的<code class="code highlight language-text">/usr/src/app</code>.
docker镜像将<code class="code highlight language-text">intellij-sdk-docs</code> repo视为文件夹<code class="code highlight language-text">/usr/src/app</code>.</p>
</aside>

<aside class="注意">
  <p>如果在Windows上运行MSYS bash脚本(例如“Docker Quickstart终端”),则需要正确转义本地文件夹的路径,否则MSYS环境会将路径转换为标准Windows路径,
并导致错误,例如<code class="code highlight language-text">invalid value "C:\\Users\\...;C:\\Program Files\\Git\\usr\\src\\app" for flag -v</code>.要解决此问题,请在整个路径前加上双斜杠,例如:
<code class="code highlight language-text">-v //c/Users/...</code>,或<code class="code highlight language-text">docker run -p 4000:4000 -v /$PWD:/usr/src/app intellij-sdk-docs</code>(注意<code class="code highlight language-text">$ PWD之前的前导斜杠
</code>).</p>
</aside>

<div class="code-block" data-lang="text"><code class="code-block__wrapper">*运行Dockerfile的`CMD`指令中的命令来执行:   *`rake bootstrap`,确保安装所有先决条件,   *`rake preview`,它构建网站并开始托管它. *最后,您可以访问[http://localhost:4000/intellij/sdk/docs/](http://localhost:4000/intellij/sdk/docs/)或使用IP访问新创建的站点docker客户端虚拟机的地址(请参阅上面的注释).
</code></div>

<h3>在本地开发文档</h3>

<p>要构建文档站点,您需要:</p>

<ul>
  <li>
    <p>Ruby 2  -  Jekyll是一个Ruby应用程序.</p>
  </li>
  <li>
    <p>Ruby 2 DevKit(适用于Windows) - 需要编译一些Jekyll的依赖项,并且需要安装DevKit.</p>
  </li>
</ul>

<p>*<code class="code highlight language-text">gem install bundler</code>  - 该站点使用<a href="https://bundler.io" data-bypass="yes" target="_blank"><span>Bundler</span></a>来管理repo中的gem依赖项,而不是全局安装到本地操作系统.
运行此命令以全局安装Bundler工具集.</p>

<a name="section-1" class="elem-anchor"></a>
<h4>苹果系统</h4>

<p>macOS已经安装了Ruby.
所需的唯一步骤是:</p>

<p>*<code class="code highlight language-text">gem install bundler</code></p>

<a name="windows" class="elem-anchor"></a>
<h4>Windows</h4>

<p>*安装<a href="https://rubyinstaller.org" data-bypass="yes" target="_blank"><span>Ruby 2</span></a>和<a href="http://rubyinstaller.org/downloads/" data-bypass="yes" target="_blank"><span>Ruby 2 DevKit</span></a>(其中一个宝石需要构建本机组件)
    
*安装DevKit后,请确保编辑<code class="code highlight language-text">config.yml</code>文件以指向Ruby安装</p>

<p>如果您使用<a href="https://chocolatey.org" data-bypass="yes" target="_blank"><span>Chocolatey</span></a>(Windows的包管理器),则此安装更容易:</p>

<ul>
  <li><code class="code highlight language-text">choco install ruby​​</code></li>
  <li><code class="code highlight language-text">choco install ruby​​2.devkit</code>
    <ul>
      <li>安装DevKit后,请确保编辑<code class="code highlight language-text">config.yml</code>文件以指向Ruby安装.</li>
      <li>默认情况下,这是<code class="code highlight language-text">C:\tools\DevKit\config.yml</code></li>
      <li>添加行<code class="code highlight language-text">- C:\tools\ruby21</code>(包括前导减号)</li>
    </ul>
  </li>
</ul>

<aside class="注意">
  <p>在运行下面列出的“rake bootstrap”步骤之前,请运行DevKit中的<code class="code highlight language-text">devkitvars.bat</code>文件. 例如. <code class="code highlight language-text">C:\tools\DevKit\devkitvars.bat</code></p>
</aside>

<a name="section-2" class="elem-anchor"></a>
<h3>引导文档构建环境<a href="#section-2" class="anchor-link"><span></span></a></h3>

<ol>
  <li>确保已安装Bundler  - <code class="code highlight language-text">gem install bundler</code>.</li>
  <li>在Windows上,确保已在当前命令提示符下运行<code class="code highlight language-text">devkitvars.bat</code>文件(例如<code class="code highlight language-text">c:\tools\DevKit\devkitvars.bat</code>).</li>
  <li>克隆文档站点.</li>
  <li>初始化并更新<code class="code highlight language-text">sdkdocs-template</code>子模块 - <code class="code highlight language-text">git submodule init</code>和<code class="code highlight language-text">git submodule update</code></li>
  <li><code class="code highlight language-text">rake bootstrap</code> - 这使用Bundler下载所有必需的宝石.</li>
  <li><code class="code highlight language-text">rake preview</code> - 这将构建网站,并将其托管在本地网络服务器中.</li>
</ol>

<a name="section-3" class="elem-anchor"></a>
<h3>构建和预览网站<a href="#section-3" class="anchor-link"><span></span></a></h3>

<p>要构建和测试网站,请运行<code class="code highlight language-text">rake preview</code>.这将使用提供的配置构建站点并托管它.托管站点的URL显示在屏幕上,取决于<code class="code highlight language-text">_config.yml</code>中定义的<code class="code highlight language-text">baseurl</code>字段.</p>

<aside class="注意">
  <p>必须使用<code class="code highlight language-text">localhost</code>作为主机名,<em>NOT</em> 0.0.0.0,否则无法加载字体.</p>
</aside>

<a name="documentation-repository-submodules" class="elem-anchor"></a>
<h2>Documentation Repository Submodules<a href="#documentation-repository-submodules" class="anchor-link"><span></span></a></h2>
<p><code class="code highlight language-text">sdkdocs-template</code>目录实际上是一个Git子模块,它包含一个私有<code class="code highlight language-text">webhelp-template</code>存储库的子模块.
<code class="code highlight language-text">sdkdocs-template</code>存储库包含构建脚本以及允许站点运行的编译和缩小的JS和CSS.
私有的<code class="code highlight language-text">webhelp-template</code>存储库包含构建JS和CSS的代码.
它目前是封闭源,但计划是在某些时候使它成为开源,在这种情况下,很可能会合并两个存储库.</p>

<p>克隆后,需要初始化和更新子模块:</p>

<div class="code-block" data-lang="sh"><code class="code-block__wrapper">git submodule init
git submodule update
</code></div>

<p>初始化创建一个<code class="code highlight language-text">.gitmodules</code>文件,在<code class="code highlight language-text">sdkdocs-template</code>文件夹中注册一个子模块并检出文件.
请注意,当repo作为子模块添加时,它不会获得<code class="code highlight language-text">.git</code>文件夹,而是获取指向<code class="code highlight language-text">.git</code>文件夹的实际位置的<code class="code highlight language-text">.git</code>文件.</p>

<p>子模块可以使用常规git命令更新,例如<code class="code highlight language-text">git pull</code>.
它可以使用<code class="code highlight language-text">git checkout</code>切换到不同的分支,并且需要使用git命令将当前检出的修订版本的任何更改提交回主存储库.
子模块最初是在特定版本中克隆的,而不是branch.update的一部分</p>

<p>如果对子模块进行了更改,则应在分支上创建克隆,并发送Pull请求.
可以进行更改并提交,托管存储库需要提交指向子模块当前版本的指针.</p>

<p>如果<code class="code highlight language-text">sdkdocs-template</code>有任何问题,请<a href="https://github.com/JetBrains/sdkdocs-template/issues" data-bypass="yes" target="_blank"><span>提出问题</span></a>.</p>

<a name="intellij-platform-sdk" class="elem-anchor"></a>
<h2>创建IntelliJ Platform SDK内容<a href="#intellij-platform-sdk" class="anchor-link"><span></span></a></h2>

<p>欢迎提供对IntelliJ Platform SDK的内容贡献.</p>

<p>请从<a href="https://github.com/JetBrains/intellij-sdk-docs" data-bypass="yes" target="_blank"><span>GitHub</span></a>下载或克隆开源SDK项目,进行添加或更改,并提交拉取请求.</p>

<p>在创建或更改内容之前,请参阅以下指南:</p>

<ul>
  <li>
    <p><a href="intro/sdk_style.html"><span>SDK文档样式指南</span></a>.
  
本指南根据Markdown语法描述了文档约定.
  
始终使用站点的<a href="#building-and-previewing-the-site"><span>预览</span></a>测试文档更改.</p>
  </li>
  <li>
    <p><a href="intro/sdk_code_guidelines.html"><span>SDK代码示例指南</span></a>.
  
本文档中描述了代码示例组织,项目设置和命名约定的约定.
  
始终通过构建和测试SDK代码示例来测试代码更改.</p>
  </li>
</ul>



                    <div class="navigation-links _bottom" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/intro/key_topics.html">Key Topics</a>
                        <a class="navigation-links__next" href="/CODE_OF_CONDUCT.html">Code of Conduct</a>
                    </div>
                    <div class="last-modified">
                        Last modified: 11 May 2019
                    </div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>

<script src="/intellij-sdk-docs-cn/app/app.js" data-baseurl="/intellij-sdk-docs-cn/"></script>

</body>
</html>

