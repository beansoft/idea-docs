


<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Plugin Compatibility with IntelliJ Platform Products / IntelliJ Platform SDK  DevGuide</title>
    <link rel="stylesheet" href="/intellij-sdk-docs-cn/app/app.css">
    <link rel="shortcut icon" href="/intellij-sdk-docs-cn/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="57x57" href="/intellij-sdk-docs-cn/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/intellij-sdk-docs-cn/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/intellij-sdk-docs-cn/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/intellij-sdk-docs-cn/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/intellij-sdk-docs-cn/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/intellij-sdk-docs-cn/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/intellij-sdk-docs-cn/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/intellij-sdk-docs-cn/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/intellij-sdk-docs-cn/apple-mask-icon.svg" color="black">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-square70x70logo" content="/intellij-sdk-docs-cn/mstile-70x70.png">
    <meta name="msapplication-TileImage" content="/intellij-sdk-docs-cn/mstile-144x144.png">
    <meta name="msapplication-square150x150logo" content="/intellij-sdk-docs-cn/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/intellij-sdk-docs-cn/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/intellij-sdk-docs-cn/mstile-310x310.png">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kana112233.github.io/intellij-sdk-docs-cn//basics/getting_started/plugin_compatibility.html" />
    <meta property="og:site_name" content="JetBrains IntelliJ Platform SDK" />
    <meta property="og:title" content="Plugin Compatibility with IntelliJ Platform Products" />
    <meta property="og:description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta property="og:image" content="https://kana112233.github.io/intellij-sdk-docs-cn/jetbrains.png" />
    <meta property="article:modified_time" content="2019-05-11T20:37:03+08:00" />
    <!-- <meta property="article:section" content="" />
    <meta property="article:tag" content="" /> -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@JBPlatform" />
    <meta name="twitter:title" content="Plugin Compatibility with IntelliJ Platform Products" />
    <meta name="twitter:description" content="Documentation for working with and extending the IntelliJ Platform SDK" />
    <meta name="twitter:image" content="https://kana112233.github.io/intellij-sdk-docs-cn/jetbrains.png" />
    <meta class="swiftype" name="product" data-type="string" content="/intellij-sdk-docs-cn/"></meta>
<link  rel="stylesheet" href="/intellij-sdk-docs-cn/app/styles.css"></head>
<body data-id="basics/getting_started/plugin_compatibility">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label for="search-box__input" class="search-box__label">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ Platform SDK  DevGuide">
                    </label>
                    <div class="search-box__clear" title="Clear"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a data-bypass="true" href="//youtrack.jetbrains.com/issues/IJSDK">Send feedback</a></p>
                <p>&copy; 2000&ndash;2019 <a href="//www.jetbrains.com">JetBrains</a> s.r.o.<br>
                    All rights reserved.</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>IntelliJ Platform SDK DevGuide</h3>

                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">
                    <div class="navigation-links _top" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/tutorials/writing_tests_for_plugins.html">Writing Tests For Plugins</a>
                        <a class="navigation-links__next" href="/basics/getting_started/build_number_ranges.html">Build Number Ranges</a>
                    </div>


                    <h1>Plugin Compatibility with IntelliJ Platform Products</h1>
                    <!--  TODO链接到sample_plugin文件 -->

<p>所有基于IntelliJ Platform的产品,如IntelliJ IDEA,RubyMine,WebStorm等,都针对相同的底层平台API,一些产品共享在平台之上构建的功能,例如Java支持(IntelliJ IDEA)</p>

<p>和Android Studio)或数据库支持(IntelliJ IDEA Ultimate,DataGrip,PhpStorm等).</p>

<p>只要插件指定与其兼容的产品,就可以编写兼容多个产品的插件.
更具体地说,插件必须使用<a href="/intellij-sdk-docs-cn/basics/plugin_structure/plugin_configuration_file.html"><span><code class="code highlight language-text">plugin.xml</code>文件</span></a>中的[<depends>`标签](/basics/plugin_structure/plugin_dependencies.md)来指定,依赖项
在众所周知的_modules_或插件上.</depends></p>

<p>出于依赖性的目的,可以将模块视为内置插件,作为产品的不可移除部分提供.
并非所有产品都定义和声明模块.
例如,PhpStorm没有自己的模块,但产品本身依赖于(并附带)PHP语言插件.
您也可以根据相同的语言插件使您的插件与PhpStorm兼容.</p>

<p>例如:</p>

<div class="code-block" data-lang="xml"><code class="code-block__wrapper"><span class="nt">&lt;idea-plugin&gt;</span>
  ...
  <span class="nt">&lt;depends&gt;</span>com.intellij.modules.lang<span class="nt">&lt;/depends&gt;</span>
  ...
<span class="nt">&lt;/idea-plugin&gt;</span>
</code></div>

<!--  TODO链接到sample_plugin文件 -->

<p>如果插件在其<code class="code highlight language-text">plugin.xml</code>中不包含任何模块依赖关系标签,则它被假定为旧插件并且仅在IntelliJ IDEA中加载.</p>

<p>如果<code class="code highlight language-text">plugin.xml</code>包含一个或多个这样的标记,如果产品包含插件所依赖的所有**模块,则加载该插件.</p>

<p>目前,基于IntelliJ平台的所有产品均提供以下模块:</p>

<ul>
  <li>
    <p><code class="code highlight language-text">com.intellij.modules.platform</code></p>
  </li>
  <li>
    <p><code class="code highlight language-text">com.intellij.modules.lang</code></p>
  </li>
  <li>
    <p><code class="code highlight language-text">com.intellij.modules.vcs</code></p>
  </li>
  <li>
    <p><code class="code highlight language-text">com.intellij.modules.xml</code></p>
  </li>
  <li>
    <p><code class="code highlight language-text">com.intellij.modules.xdebugger</code></p>
  </li>
</ul>

<p>这意味着插件可以声明对<code class="code highlight language-text">com.intellij.modules.vcs</code>的依赖,它可以在任何支持版本控制的产品中工作,并且因为所有产品目前都包含<code class="code highlight language-text">com.intellij.modules.vcs</code>模块,这个插件
将适用于所有产品.</p>

<p>这些特定产品中提供以下模块或内置插件:</p>

<table>
  <thead>
    <tr>
      <th>Module or built-in plugin</th>
      <th>Product</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.java</code></td>
      <td>IntelliJ IDEA, Android Studio</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.ultimate</code></td>
      <td>IntelliJ IDEA Ultimate Edition</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.androidstudio</code></td>
      <td>Android Studio</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.appcode</code></td>
      <td>AppCode</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.cidr.lang</code></td>
      <td>AppCode, CLion</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.cidr.debugger</code></td>
      <td>AppCode, CLion, RubyMotion</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.clion</code></td>
      <td>CLion</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.database</code></td>
      <td>IntelliJ IDEA Ultimate Edition, DataGrip, GoLand, PhpStorm, PyCharm, Rider, RubyMine</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.go</code></td>
      <td>GoLand</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.python</code></td>
      <td>PyCharm</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.rider</code></td>
      <td>Rider</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.ruby</code></td>
      <td>RubyMine</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.jetbrains.php</code></td>
      <td>PhpStorm (built-in plugin)</td>
    </tr>
    <tr>
      <td><code class="code highlight language-text">com.intellij.modules.webstorm</code></td>
      <td>WebStorm</td>
    </tr>
  </tbody>
</table>

<a name="section" class="elem-anchor"></a>
<h2>插件依赖项<a href="#section" class="anchor-link"><span></span></a></h2>

<p>如果要为插件添加依赖项,请使用插件名称/ID将“<depends>”标记添加到“plugin.xml”.
例如`JavaScript`或`tslint`.
请注意,目标SDK中默认不包含某些插件,因此您还必须手动将其jar添加到SDKs类路径中,以针对其提供的类进行编译.
确保将插件罐添加到SDK而不是插件,否则罐子将与您的插件捆绑在一起.</depends></p>

<a name="section-1" class="elem-anchor"></a>
<h2>可选的依赖项<a href="#section-1" class="anchor-link"><span></span></a></h2>

<p>您还可以指定可选的依赖项.
如果您的插件适用于所有产品但提供了一些特定于Java的功能,则可以使用如下依赖项标记:</p>

<div class="code-block" data-lang="xml"><code class="code-block__wrapper"><span class="nt">&lt;depends</span> <span class="na">optional=</span><span class="s">"true"</span> <span class="na">config-file=</span><span class="s">"my-java-features.xml"</span><span class="nt">&gt;</span>
  com.intellij.modules.java
<span class="nt">&lt;/depends&gt;</span>
</code></div>

<p>在将插件标记为与所有产品兼容之前,您应该验证它不使用任何特定于IntelliJ IDEA的API.
为此,创建一个指向RubyMine,PyCharm等安装的IntelliJ Platform SDK,针对该SDK编译插件,并验证所有内容是否已编译.
访问<a href="https://www.jetbrains.com/buy/opensource/" data-bypass="yes" target="_blank"><span>开源许可页面</span></a>,检查您的项目是否有资格获得JetBrains产品的免费开源许可.</p>

<p><a href="https://plugins.jetbrains.com/" data-bypass="yes" target="_blank"><span>JetBrains插件存储库</span></a>根据上述规则自动检测与插件兼容的产品,并将其提供给这些产品的用户.</p>

<a name="section-2" class="elem-anchor"></a>
<h2>平台兼容性<a href="#section-2" class="anchor-link"><span></span></a></h2>

<p>IntelliJ Platform和捆绑插件的API可以在发行版之间更改.
可能会破坏插件的主要更改列在<a href="/intellij-sdk-docs-cn/reference_guide/api_changes_list.html"><span>IntelliJ平台和插件API中的不兼容更改</span></a>页面上.</p>

<p>为了确保您的插件能够在您的目标平台上运行,您应该使用与您所定位的IntelliJ平台相同的开发版本.</p>



                    <div class="navigation-links _bottom" data-swiftype-index="false">
                        <a class="navigation-links__prev" href="/tutorials/writing_tests_for_plugins.html">Writing Tests For Plugins</a>
                        <a class="navigation-links__next" href="/basics/getting_started/build_number_ranges.html">Build Number Ranges</a>
                    </div>
                    <div class="last-modified">
                        Last modified: 11 May 2019
                    </div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>

<script src="/intellij-sdk-docs-cn/app/app.js" data-baseurl="/intellij-sdk-docs-cn/"></script>

</body>
</html>

